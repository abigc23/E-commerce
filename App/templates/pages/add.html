{% extends 'index.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header text-center">
                    <h2>Agregar Registro</h2>
                </div>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <!-- Dropdown para Agregar Libro -->
                        <div class="mb-4">
                            <button 
                                class="btn btn-primary w-100 text-start" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#book-form"
                                aria-expanded="false" 
                                aria-controls="book-form">
                                Agregar Libro
                            </button>
                            <div class="collapse mt-3" id="book-form">
                                <h3>Agregar Libro</h3>
                                {{ book_form.as_p }}
                                {% if message_book %}
                                <div class="alert alert-success">{{ message_book }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Dropdown para Agregar Autor -->
                        <div class="mb-4">
                            <button 
                                class="btn btn-primary w-100 text-start" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#author-form"
                                aria-expanded="false" 
                                aria-controls="author-form">
                                Agregar Autor
                            </button>
                            <div class="collapse mt-3" id="author-form">
                                <h3>Agregar Autor</h3>
                                {{ author_form.as_p }}
                                {% if message_author %}
                                <div class="alert alert-success">{{ message_author }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Dropdown para Agregar Género -->
                        <div class="mb-4">
                            <button 
                                class="btn btn-primary w-100 text-start" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#genre-form"
                                aria-expanded="false" 
                                aria-controls="genre-form">
                                Agregar Género
                            </button>
                            <div class="collapse mt-3" id="genre-form">
                                <h3>Agregar Género</h3>
                                {{ genre_form.as_p }}
                                {% if message_genre %}
                                <div class="alert alert-success">{{ message_genre }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <button class="btn btn-success w-100 mt-4" type="submit">
                            Guardar
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
